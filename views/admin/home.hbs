{{!-- <h1>hi admin home</h1>
<a href="">Dashboard</a>
<a href="/admin/games">Games</a>
<a href="">Users</a> --}}

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<div id="wrapper">
  <!-- Sidebar -->
  <ul class="navbar-nav sidebar sidebar-light accordion" id="accordionSidebar">
    <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
      <div class="sidebar-brand-icon">
        <img src="/images/icon.png">
      </div>
      <div class="sidebar-brand-text mx-3"></div>
    </a>
    <hr class="sidebar-divider my-0">
    <li class="nav-item active">
      <a class="nav-link" href="">
        <i class="fas fa-fw fa-tachometer-alt"></i>
        <span>Dashboard</span></a>
    </li>
    <hr class="sidebar-divider">
    <div class="sidebar-heading">
      Features
    </div>
    <li class="nav-item">
      <a class="nav-link collapsed" href="" data-toggle="collapse" data-target="#collapseBootstrap" aria-expanded="true"
        aria-controls="collapseBootstrap">
        <i class="far fa-fw fa-window-maximize"></i>
        <span>Product management </span>
      </a>
      <div id="collapseBootstrap" class="collapse" aria-labelledby="headingBootstrap" data-parent="#accordionSidebar">
        <div class="bg-white py-2 collapse-inner rounded">
          <h6 class="collapse-header">Admin Accessibilities</h6>
          <a class="collapse-item" href="/admin/home">Home</a>
          <a class="collapse-item" href="/admin/games">Games</a>
          <a class="collapse-item" href="/admin/addgames">Add New Game</a>
        </div>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseForm" aria-expanded="true"
        aria-controls="collapseForm">
        <i class="fab fa-fw fa-wpforms"></i>
        <span>Category Management</span>
      </a>
      <div id="collapseForm" class="collapse" aria-labelledby="headingForm" data-parent="#accordionSidebar">
        <div class="bg-white py-2 collapse-inner rounded">
          <h6 class="collapse-header">Category Management</h6>
          <a class="collapse-item" href="/admin/home">Home</a>
          <a class="collapse-item" href="/admin/categoriesTable">Category Table</a>
          <a class="collapse-item" href="/admin/categories">Add Category</a>
        </div>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTable" aria-expanded="true"
        aria-controls="collapseTable">
        <i class="fas fa-fw fa-table"></i>
        <span>User Management</span>
      </a>
      <div id="collapseTable" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
        <div class="bg-white py-2 collapse-inner rounded">
          <h6 class="collapse-header">Users Management</h6>
          <a class="collapse-item" href="/admin/home">Home</a>
          <a class="collapse-item" href="/admin/usertable">Users</a>
        </div>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseOder" aria-expanded="true"
        aria-controls="collapseTable">
        <i class="fas fa-fw fa-table"></i>
        <span>Order Management</span>
      </a>
      <div id="collapseOder" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
        <div class="bg-white py-2 collapse-inner rounded">
          <h6 class="collapse-header">Oders Management</h6>
          <a class="collapse-item" href="/admin/home">Home</a>
          <a class="collapse-item" href="/admin/orders">Orders</a>
          {{!-- <a class="collapse-item" href="/admin/addgames">Add New Game</a> --}}
        </div>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseBanner" aria-expanded="true"
        aria-controls="collapseTable">
        <i class="fas fa-fw fa-table"></i>
        <span>Banner Management</span>
      </a>
      <div id="collapseBanner" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
        <div class="bg-white py-2 collapse-inner rounded">
          <h6 class="collapse-header">Banner Management</h6>
          <a class="collapse-item" href="/admin/home">Home</a>
          <a class="collapse-item" href="/admin/banner">Banners</a>
        </div>
      </div>
    </li>
    <li class="nav-item">
      <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseCoupon" aria-expanded="true"
        aria-controls="collapseTable">
        <i class="fas fa-fw fa-table"></i>
        <span>Coupons Management</span>
      </a>
      <div id="collapseCoupon" class="collapse" aria-labelledby="headingTable" data-parent="#accordionSidebar">
        <div class="bg-white py-2 collapse-inner rounded">
          <h6 class="collapse-header">Coupons Management</h6>
          <a class="collapse-item" href="/admin/home">Home</a>
          <a class="collapse-item" href="/admin/coupon">Coupons</a>
          <a class="collapse-item" href="/admin/coupon/table">Coupons Table</a>
        </div>
      </div>
    </li>
  </ul>
  <!-- Sidebar -->
  <div id="content-wrapper" class="d-flex flex-column">
    <div id="content">
      <!-- TopBar -->
      <nav class="navbar navbar-expand navbar-light bg-navbar topbar mb-4 static-top">
        <button id="sidebarToggleTop" class="btn btn-link rounded-circle mr-3">
          <i class="fa fa-bars"></i>
        </button>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-search fa-fw"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in"
              aria-labelledby="searchDropdown">
              <form class="navbar-search">
                <div class="input-group">
                  <input type="text" class="form-control bg-light border-1 small"
                    placeholder="What do you want to look for?" aria-label="Search" aria-describedby="basic-addon2"
                    style="border-color: #3f51b5;">
                  <div class="input-group-append">
                    <button class="btn btn-primary" type="button">
                      <i class="fas fa-search fa-sm"></i>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </li>
          <li class="nav-item dropdown no-arrow mx-1">
            <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-bell fa-fw"></i>
              <span class="badge badge-danger badge-counter">3+</span>
            </a>
            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
              aria-labelledby="alertsDropdown">
              <h6 class="dropdown-header">
                Alerts Center
              </h6>
              <a class="dropdown-item d-flex align-items-center" href="#">
                <div class="mr-3">
                  <div class="icon-circle bg-primary">
                    <i class="fas fa-file-alt text-white"></i>
                  </div>
                </div>
                <div>
                  <div class="small text-gray-500">December 12, 2019</div>
                  <span class="font-weight-bold">A new monthly report is ready to download!</span>
                </div>
              </a>
              <a class="dropdown-item d-flex align-items-center" href="#">
                <div class="mr-3">
                  <div class="icon-circle bg-success">
                    <i class="fas fa-donate text-white"></i>
                  </div>
                </div>
                <div>
                  <div class="small text-gray-500">December 7, 2019</div>
                  $290.29 has been deposited into your account!
                </div>
              </a>
              <a class="dropdown-item d-flex align-items-center" href="#">
                <div class="mr-3">
                  <div class="icon-circle bg-warning">
                    <i class="fas fa-exclamation-triangle text-white"></i>
                  </div>
                </div>
                <div>
                  <div class="small text-gray-500">December 2, 2019</div>
                  Spending Alert: We've noticed unusually high spending for your account.
                </div>
              </a>
              <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a>
            </div>
          </li>
          <li class="nav-item dropdown no-arrow mx-1">
            <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-envelope fa-fw"></i>
              <span class="badge badge-warning badge-counter">2</span>
            </a>
            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
              aria-labelledby="messagesDropdown">
              <h6 class="dropdown-header">
                Message Center
              </h6>
              <a class="dropdown-item d-flex align-items-center" href="#">
                <div class="dropdown-list-image mr-3">
                  <img class="rounded-circle" src="/assets/img/man.png" style="max-width: 60px" alt="">
                  <div class="status-indicator bg-success"></div>
                </div>
                <div class="font-weight-bold">
                  <div class="text-truncate">Hi there! I am wondering if you can help me with a problem I've been
                    having.</div>
                  <div class="small text-gray-500">Udin Cilok · 58m</div>
                </div>
              </a>
              <a class="dropdown-item d-flex align-items-center" href="#">
                <div class="dropdown-list-image mr-3">
                  <img class="rounded-circle" src="/assets/img/girl.png" style="max-width: 60px" alt="">
                  <div class="status-indicator bg-default"></div>
                </div>
                <div>
                  <div class="text-truncate">Am I a good boy? The reason I ask is because someone told me that people
                    say this to all dogs, even if they aren't good...</div>
                  <div class="small text-gray-500">Jaenab · 2w</div>
                </div>
              </a>
              <a class="dropdown-item text-center small text-gray-500" href="#">Read More Messages</a>
            </div>
          </li>
          <li class="nav-item dropdown no-arrow mx-1">
            <a class="nav-link dropdown-toggle" href="#" id="messagesDropdown" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-tasks fa-fw"></i>
              <span class="badge badge-success badge-counter">3</span>
            </a>
            <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in"
              aria-labelledby="messagesDropdown">
              <h6 class="dropdown-header">
                Task
              </h6>
              <a class="dropdown-item align-items-center" href="#">
                <div class="mb-3">
                  <div class="small text-gray-500">Design Button
                    <div class="small float-right"><b>50%</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 50%" aria-valuenow="50"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </a>
              <a class="dropdown-item align-items-center" href="#">
                <div class="mb-3">
                  <div class="small text-gray-500">Make Beautiful Transitions
                    <div class="small float-right"><b>30%</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-warning" role="progressbar" style="width: 30%" aria-valuenow="30"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </a>
              <a class="dropdown-item align-items-center" href="#">
                <div class="mb-3">
                  <div class="small text-gray-500">Create Pie Chart
                    <div class="small float-right"><b>75%</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-danger" role="progressbar" style="width: 75%" aria-valuenow="75"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </a>
              <a class="dropdown-item text-center small text-gray-500" href="#">View All Taks</a>
            </div>
          </li>
          <div class="topbar-divider d-none d-sm-block"></div>
          <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <img class="img-profile rounded-circle" src="/assets/img/boy.png" style="max-width: 60px">
              <span class="ml-2 d-none d-lg-inline text-white small">Admin</span>
            </a>
            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
              <a class="dropdown-item" href="#">
                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                Profile
              </a>
              <a class="dropdown-item" href="#">
                <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                Settings
              </a>
              <a class="dropdown-item" href="#">
                <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                Activity Log
              </a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="javascript:void(0);" data-toggle="modal" data-target="#logoutModal">
                <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                Logout
              </a>
            </div>
          </li>
        </ul>
      </nav>
      <!-- Topbar -->

      <!-- Container Fluid-->
      <div class="container-fluid" id="container-wrapper">
        <div class="row">
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="./">Home</a></li>
              <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
            </ol>
          </div>
          <!-- Area Chart -->
          <div class="col-xl-8 col-lg-7">
            <div class="card mb-4">
              <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                <h6 class="m-0 font-weight-bold text-primary">Sales</h6>
                <div class="dropdown no-arrow">
                  <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                    aria-labelledby="dropdownMenuLink">
                    <div class="dropdown-header">Dropdown Header:</div>
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </div>
              </div>

              {{!-- <div class="card-body">
                <div class="chart-area">
                  <canvas id="myAreaChart">
                  </canvas>
                </div>
              </div> --}}
              <div class="body-body col-12" style="max-height:fit-content;max-width: fit-content;margin: 1rem;">
                {{!-- form --}}
                <div class="container m-0 p-0">
                  <div class="row m-0 p-0">
                    <div style="display: flex;" class="m-0 p-0">
                      <div class="form-group">
                        <input type="date" class="form-control m-1" id="from" aria-describedby="emailHelp"
                          placeholder="From">
                      </div>
                      <div class="form-group ml-1">
                        <input type="date" class="form-control m-1" id="to" aria-describedby="emailHelp"
                          placeholder="To">

                      </div>
                      <div class="form-group ml-1" style="display: flex;justify-content: center;">
                        <button type="submit" onclick="getDatas()" class="btn m-1 btn-primary">Check</button>
                        <button onclick="findData('month')" class="btn m-1 btn-info" style="">Monthly</button>
                        <button onclick="findData('year')" class="btn m-1 btn-success" style="">Yearly</button>
                      </div>
                    </div>
                    <div class="mb-3">
                      <div class="small text-gray-500">
                        <span style="color: rgb(0, 176, 188);">Sales</span>
                        <div class="small float-right" style="color: black;"><b>{{currentSales}}%</b></div>
                      </div>
                      <div class="progress" style="height: 12px;">
                        <div class="progress-bar bg-info" role="progressbar" style="width: {{currentSales}}%"
                          aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="mb-3">
                      <div class="small text-gray-500">
                        <span style="color: rgb(128, 0, 0);">Cost</span>
                        <div class="small float-right" style="color: black;"><b>{{cost}} %</b></div>
                      </div>
                      <div class="progress" style="height: 12px;">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: {{cost}}%"
                          aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                    <div class="mb-3">
                      <div class="small text-gray-500">
                        <span style="color: green;">Profit Margin 90'</span>
                        <div class="small float-right" style="color: black;"><b>{{profitMargin}} %</b></div>
                      </div>
                      <div class="progress" style="height: 12px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: {{profitMargin}}%"
                          aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <canvas class="my-4 w-100" id="myChart1" height="500" width="700"></canvas>

              </div>
            </div>
          </div>
          <!-- Pie Chart -->
          <div class="col-xl-4 col-lg-5">
            <div class="card mb-4">
              <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                <h6 class="m-0 font-weight-bold text-primary">Most Downloads</h6>
                <div class="dropdown no-arrow">
                  <a class="dropdown-toggle btn btn-primary btn-sm" href="#" role="button" id="dropdownMenuLink"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Month <i class="fas fa-chevron-down"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
                    aria-labelledby="dropdownMenuLink">
                    <div class="dropdown-header">Select Periode</div>
                    <a class="dropdown-item" href="#">Today</a>
                    <a class="dropdown-item" href="#">Week</a>
                    <a class="dropdown-item active" href="#">Month</a>
                    <a class="dropdown-item" href="#">This Year</a>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="body-body" style="height:400px;max-width: fit-content;margin-left:auto;margin-right: auto;">
                  <canvas class="my-4" id="myChart"></canvas>

                </div>
                <div class="mb-3">
                  <div class="small text-gray-500">Oblong T-Shirt
                    <div class="small float-right"><b>600 of 800 Items</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-warning" role="progressbar" style="width: 80%" aria-valuenow="80"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
                <div class="mb-3">
                  <div class="small text-gray-500">Gundam 90'Editions
                    <div class="small float-right"><b>500 of 800 Items</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 70%" aria-valuenow="70"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
                <div class="mb-3">
                  <div class="small text-gray-500">Rounded Hat
                    <div class="small float-right"><b>455 of 800 Items</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-danger" role="progressbar" style="width: 55%" aria-valuenow="55"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
                <div class="mb-3">
                  <div class="small text-gray-500">Indomie Goreng
                    <div class="small float-right"><b>400 of 800 Items</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
                <div class="mb-3">
                  <div class="small text-gray-500">Remote Control Car Racing
                    <div class="small float-right"><b>200 of 800 Items</b></div>
                  </div>
                  <div class="progress" style="height: 12px;">
                    <div class="progress-bar bg-success" role="progressbar" style="width: 30%" aria-valuenow="30"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </div>
              </div>
              <div class="card-footer text-center">
                <a class="m-0 small text-primary card-link" href="#">View More <i class="fas fa-chevron-right"></i></a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div
        style="display: none;width:100%;height:100%;background-color: rgba(9, 9, 9, 0.634);position: absolute;left: 0;top:0;z-index:3;"
        id="hidder">
        <div
          style="position: fixed;top:0%;background-color: rgba(0, 0, 0, 0.595); display: none;z-index:5;justify-content: center;height:90%;left:0rem;width:95%;overflow: auto;margin:2%;border-radius:20px;"
          id="chartid2" class="p2">
          <div style="display: flex;justify-content: end;padding: 2%;">
            <h5 id="noResult" style="display: flex;justify-content: center;color: rgb(26, 255, 0);width:60%;"
              class="p-1"></h5>
            <button onclick="findData('month')" class="btn m-1 btn-info" style="">Monthly</button>
            <button onclick="findData('year')" class="btn m-1 btn-success" style="">Yearly</button>
            <button onclick="gotoDownload()" class="btn m-1 btn-primary" style="">Download Report</button>
            <button onclick="closeWindow()" class="btn m-1 btn-warning" style="margin-right: 1rem;">Close</button>
          </div>
          <div
            style="background-color: #00000094;float: left;width:80%;height:100%;padding: 1rem;margin-left:3%;border-radius: 20px;">
            <div style="display: flex;justify-content: center;">
              <canvas class="my-4 w-100" id="myChartid2" height="350" width="750"
                style="color: rgb(0, 187, 0);"></canvas>
              <canvas class="my-4 w-100" id="chartid3" height="350" width="750"
                style="color: rgb(0, 137, 11);display: none;"></canvas>
              <canvas class="my-4 w-100" id="chartid5" height="350" width="750"
                style="color: rgba(34, 255, 0, 0.738);display: none;"></canvas>
            </div>
          </div>
        </div>
        <div
          style="position: fixed;top:0%;padding:5%;padding-top:8%;background-color: rgba(95, 95, 95, 0.625); display: none;z-index:5;justify-content: center;height:85%;left: 0;width:90%;overflow: auto;margin:2%;border-radius:20px;margin-left: 3rem;margin-top:3rem;"
          id="hidden-data">
          <section class="rounded-3" style="background-color: #6e6e6e;position: absolute;top:2rem;width:90%;">
            <div class="text-center container-fluid p-0 m-0">
              <div class="row">
                <div class="col-12">
                  <div class="card card-default">
                    <div style="display: flex;justify-content: end;">
                      <button id="download" class="btn m-1 p-1 btn-primary" style=""><span><ion-icon class="m-1 mt-2"
                            style="font-size: 20px;font-weight: 100;"
                            name="cloud-download-outline"></ion-icon></span></button>
                      <button onclick="closeWindow()" class="btn m-1 btn-warning">X</button>
                    </div>
                    <div class="card-body" id="invoice">
                      <div>
                        <div class="d-flex justify-content-center">
                          <h5 class="eniac-text text-primary"><span style="color: green;">playStation</span>
                            Ke4.tech.</h5>

                        </div>
                        <table id="reportsTable" class="table nowrap" style="width:100%">
                          <thead>
                            <tr>
                              <th>Sl</th>
                              <th>Order Date</th>
                              <th>Sales</th>
                              <th>Profit</th>
                              <th>Cost</th>
                              <th style="display: none;" id="orCount">Orders</th>
                            </tr>
                          </thead>
                          <tbody class="tb-data">

                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
          {{!-- <button style="position: absolute; top:13%;background:none;color:white;border:none;"
            id="close-button"><span><ion-icon style="font-size:25px;"
                name="close-circle-outline"></ion-icon></span></button> --}}
        </div>
      </div>

      <div class="row mb-3">
        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <div class="row align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-uppercase mb-1">Earnings (Monthly)</div>
                  <div class="h5 mb-0 font-weight-bold text-gray-800">${{profit}}</div>
                  <div class="mt-2 mb-0 text-muted text-xs">
                    <span class="text-success mr-2"><i class="fa fa-arrow-up"></i> 3.48%</span>
                    <span>Since last month</span>
                  </div>
                </div>
                <div class="col-auto">
                  <i class="fas fa-calendar fa-2x text-primary"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Earnings (Annual) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-uppercase mb-1">Sales</div>
                  <div class="h5 mb-0 font-weight-bold text-gray-800">{{orderModelLength}}</div>
                  <div class="mt-2 mb-0 text-muted text-xs">
                    <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 12%</span>
                    <span>Since last years</span>
                  </div>
                </div>
                <div class="col-auto">
                  <i class="fas fa-shopping-cart fa-2x text-success"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- New User Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-uppercase mb-1">New User</div>
                  <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{users}}</div>
                  <div class="mt-2 mb-0 text-muted text-xs">
                    <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> 20.4%</span>
                    <span>Since last month</span>
                  </div>
                </div>
                <div class="col-auto">
                  <i class="fas fa-users fa-2x text-info"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Pending Requests Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
          <div class="card h-100">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-uppercase mb-1">Pending Requests</div>
                  <div class="h5 mb-0 font-weight-bold text-gray-800">18</div>
                  <div class="mt-2 mb-0 text-muted text-xs">
                    <span class="text-danger mr-2"><i class="fas fa-arrow-down"></i> 1.10%</span>
                    <span>Since yesterday</span>
                  </div>
                </div>
                <div class="col-auto">
                  <i class="fas fa-comments fa-2x text-warning"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!---Container Fluid-->
      </div>
      <!-- Footer -->
      <footer class="sticky-footer bg-white">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>copyright &copy;
              <script> document.write(new Date().getFullYear()); </script> - developed by
              <b><a href="https://indrijunanda.gitlab.io/" target="_blank">PlayStation</a></b>
            </span>
          </div>
        </div>
      </footer>
      <!-- Footer -->
    </div>
  </div>



  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <script>
    let bg = document.getElementById('chartid2');
    bg.addEventListener('mouseenter', () => {
      document.body.style.overflow = 'hidden';
    })
  </script>

  <script>
    window.onload = function () {
      document.getElementById("download")
        .addEventListener("click", () => {
          const invoice = this.document.getElementById("invoice");
          //   console.log(invoice);
          //   console.log(window);
          var opt = {
            margin: 1,
            filename: 'myfile.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
          };
          html2pdf().from(invoice).set(opt).save();
        })
    }
  </script>
  <script>
    function gotoDownload() {
      let filterType = document.getElementById('noResult').value;
      let tb = document.querySelector('.tb-data');
      let hidden = document.getElementById('hidden-data');
      let from = document.getElementById('from').value;
      let to = document.getElementById('to').value;
      let countSale = document.getElementById('orCount');

      console.log(filterType, '____________695');
      fetch('/admin/order/pdf', {
        method: 'post',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          dataFilter: filterType,
          from,
          to
        })
      }).then((response) => {
        return response.json();
      }).then((data) => {
        console.log(data.monthly);
        let formattedDates = [];
        if (data.filterType == 'check') {
          document.querySelector('.tb-data').innerHTML = ' ';
          formattedDates = data.monthly.map((element) => {
            const date = new Date(element.orderDate);
            return date.toLocaleDateString();
          });
          countSale.style.display = 'none';
          data.monthly.forEach((element, index) => {
            tb.innerHTML +=
              `<tbody>
              <tr>
                <td>#${index + 1}</td>
                <td>${formattedDates[index]}</td>
                <td>₹ ${element.actualPrice}</td>
                <td>₹ ${element.total}</td>
                <td>₹ ${(element.actualPrice - element.total).toFixed(2)}</td>
              </tr>
            </tbody>`
          })
        } else {
          countSale.style.display = 'block'
          document.querySelector('.tb-data').innerHTML = ' ';
          let years = []
          data.monthly.forEach((element, index) => {
            let date = element._id.month ? '01' + '-' + (element._id.month < 10 ? '0' + element._id.month : element._id.month) + '-' + element._id.year : element._id.year;
            console.log(date, '------------------------------722');
            years.push(date);
          })
          data.monthly.forEach((element, index) => {
            tb.innerHTML +=
              `<tbody>
              <tr>
                <td>#${index + 1}</td>
                <td>${years[index]}</td>
                <td>₹ ${element.profitOfMonth}</td>
                <td>₹ ${element.salesOfMonth}</td>
                <td>₹ ${(element.profitOfMonth - element.salesOfMonth).toFixed(2)}</td>
                <td>₹ ${element.salesCOunt}</td>
              </tr>
            </tbody>`
          })
        }
        hidden.style.display = 'block';
      });
    }

  </script>
  <script>
    function findData(dataFilter) {
      const dataWndow = document.getElementById('chartid2');
      const nRes = document.getElementById('noResult');
      if (dataWndow.style.display == 'none') {
        document.getElementById('chartid2').style.display = 'block';
        document.getElementById('hidder').style.display = "block";
      }
      fetch('/admin/data/filter', {
        method: 'POST', // or 'PUT'
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          dataFilter: dataFilter,
        })
      }).then((response) => {
        return response.json();
      }).then((data) => {
        if (data.dataFilter == 'month') {
          newChart(data.profitOfMonth, data.salesOfMonth, data.months,);
          document.getElementById('myChartid2').style.display = "none";
          document.getElementById('chartid5').style.display = "none";
          document.getElementById('chartid3').style.display = "block";
          nRes.innerHTML = 'Monthly Order Details';
          nRes.value = 'month'
        } else if (data.dataFilter == 'year') {
          yearChar(data.profitOfMonth, data.salesOfMonth, data.months,);
          document.getElementById('chartid3').style.display = "none";
          document.getElementById('myChartid2').style.display = "none";
          document.getElementById('chartid5').style.display = "block";
          nRes.innerHTML = 'Yearly Order Details';
          nRes.value = 'year';
        }

      })

      function newChart(profitOfMonth, salesOfMonth, months,) {
        try {
          const xValues = months;
          const yValues = salesOfMonth;


          const chartData = {
            labels: xValues,
            datasets: [{
              label: 'Sales',
              data: yValues
            }, {
              label: 'Profit',
              data: profitOfMonth
            }]
          };

          const chartOptions = {
            title: {
              display: true,
              text: "Category"
            }
          };

          const chartConfig = {
            type: "bar",
            data: chartData,
            options: chartOptions
          };

          const chartElement = document.getElementById("chartid3");
          if (!chartElement) {
            throw new Error("Could not find chart canvas element");
          }

          new Chart(chartElement, chartConfig);
          return 'completed';
        } catch (error) {
          console.error("Error creating chart:", error);
        }
      }
      function yearChar(profitOfMonth, salesOfMonth, months,) {
        try {
          const xValues = months;
          const yValues = salesOfMonth;


          const chartData = {
            labels: xValues,
            datasets: [{
              label: 'Margin Profit',
              data: profitOfMonth,
              backgroundColor: [
                'rgba(0, 73, 137, 0.681)'
              ]
            }, {
              label: 'Cost',
              data: yValues,
              backgroundColor: [
                'rgba(200, 0, 0, 0.681)',
              ]
            }]
          };
          const chartOptions = {
            scales: {
              x: {
                stacked: true,
              },
              y: {
                stacked: true,
                biginAtZero: true
              }

            },
            title: {
              display: true,
              text: "Category"
            }
          };

          const chartConfig = {
            type: "bar",
            data: chartData,
            options: chartOptions,
          };

          const chartElement = document.getElementById("chartid5");
          if (!chartElement) {
            throw new Error("Could not find chart canvas element");
          }

          new Chart(chartElement, chartConfig);
          return 'completed';
        } catch (error) {
          console.error("Error creating chart:", error);
        }
      }
    }
  </script>
  <script>
    function getDatas() {
      let fromInp = document.getElementById('from').value;
      let toInp = document.getElementById('to').value;
      let noR = document.getElementById('noResult');
      document.getElementById('from').value = fromInp;
      document.getElementById('to').value = toInp
      fetch('/admin/sales/update', {
        method: 'POST', // or 'PUT'
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          from: fromInp,
          to: toInp
        })
      }).then((response) => {
        return response.json();
      }).then((data) => {
        noR.value = 'check';
        newChart(data.orderTotal, data.gameName, data.salesPerc, data.inpCost);
        document.getElementById('chartid2').style.display = "block";
        document.getElementById('hidder').style.display = "block";
        console.log(data.newDataByDate.length, '-----------------')
        if (data.newDataByDate.length == []) {
          noR.innerHTML = 'No Datas Found';
        }
      })

      function newChart(monthlyPrice, names, salesPerc, inpCost) {
        try {
          const xValues = names;
          const yValues = monthlyPrice;


          const chartData = {
            labels: xValues,
            datasets: [{
              label: 'Sales',
              data: yValues
            }, {
              label: 'Cost',
              data: inpCost
            }, {
              label: 'Profit',
              data: salesPerc
            }]
          };

          const chartOptions = {
            title: {
              display: true,
              text: "Category"
            }
          };

          const chartConfig = {
            type: "line",
            data: chartData,
            options: chartOptions
          };

          const chartElement = document.getElementById("myChartid2");
          if (!chartElement) {
            throw new Error("Could not find chart canvas element");
          }

          new Chart(chartElement, chartConfig);
        } catch (error) {
          console.error("Error creating chart:", error);
        }
      }


    }
    function closeWindow() {
      const hidden = document.getElementById('hidden-data');
      if (hidden.style.display == 'block')
        hidden.style.display = 'none';
      else {
        window.location.reload();
        document.getElementById('chartid2').style.display = "none";
        document.getElementById('hidder').style.display = "none";
      }

    }
  </script>
  <script>

    graphMng();
    async function graphMng() {
      const response = await fetch('/admin/sales', {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
        },
      })
      const data = await response.json();
      console.log(data);
      let gameNames = data.gameNames;
      let gameDownloads = data.gameDownloades;
      let monthlyIncome = data.revanueData;
      let revGames = data.revanueGame;
      let ordersData = data.ordersByDate

      pieChart(gameNames, gameDownloads)
      lineChart(monthlyIncome, gameNames);
    }


    function pieChart(names, downloads) {

      const xValues = names
      const yValues = downloads
      const barColors = [
        "#b91d47",
        "#00aba9",
        "#2b5797",
        "#e8c3b9",
        "#1e7145",
        "#2b579",
        "#C7FF33"
      ];
      new Chart("myChart", {
        type: "pie",
        data: {
          labels: xValues,
          datasets: [{
            backgroundColor: barColors,
            data: yValues
          }]
        },
        options: {
          title: {
            display: true,
            text: "Category"
          }
        }
      });
    }
    function lineChart(monthlyPrice, names) {

      const xValues = names
      const yValues = monthlyPrice;
      const barColors = [
        "#b91d47",
        "#00aba9",
        "#2b5797",
        "#e8c3b9",
        "#1e7145",
        "#2b579",
        "#C7FF33"
      ];
      new Chart("myChart1", {
        type: "line",
        data: {
          labels: xValues,
          datasets: [{
            label: 'Games',
            backgroundColor: barColors,
            data: yValues
          }]
        },
        options: {
          title: {
            display: true,
            text: "Category"
          }
        }
      });
    }



  </script>